000014410O:8:"stdClass":29:{s:7:"process";a:35:{s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:10:"PRO_PARENT";s:32:"139770507629890467a0756043060120";s:8:"PRO_TIME";d:1;s:12:"PRO_TIMEUNIT";s:4:"DAYS";s:10:"PRO_STATUS";s:6:"ACTIVE";s:12:"PRO_TYPE_DAY";s:0:"";s:8:"PRO_TYPE";s:6:"NORMAL";s:14:"PRO_ASSIGNMENT";s:5:"FALSE";s:12:"PRO_SHOW_MAP";i:0;s:16:"PRO_SHOW_MESSAGE";i:0;s:14:"PRO_SUBPROCESS";i:0;s:15:"PRO_TRI_DELETED";s:0:"";s:16:"PRO_TRI_CANCELED";s:0:"";s:14:"PRO_TRI_PAUSED";s:0:"";s:18:"PRO_TRI_REASSIGNED";s:0:"";s:16:"PRO_TRI_UNPAUSED";s:0:"";s:16:"PRO_TYPE_PROCESS";s:6:"PUBLIC";s:17:"PRO_SHOW_DELEGATE";i:0;s:17:"PRO_SHOW_DYNAFORM";i:0;s:12:"PRO_CATEGORY";s:0:"";s:16:"PRO_SUB_CATEGORY";s:0:"";s:12:"PRO_INDUSTRY";i:0;s:15:"PRO_UPDATE_DATE";N;s:15:"PRO_CREATE_DATE";s:19:"2022-06-02 10:26:14";s:15:"PRO_CREATE_USER";s:32:"1219177246176e59d7a6677092099214";s:10:"PRO_HEIGHT";i:5000;s:9:"PRO_WIDTH";i:10000;s:11:"PRO_TITLE_X";i:912;s:11:"PRO_TITLE_Y";i:759;s:9:"PRO_DEBUG";i:0;s:13:"PRO_DYNAFORMS";b:0;s:25:"PRO_DERIVATION_SCREEN_TPL";s:0:"";s:15:"PRO_DESCRIPTION";s:43:"Orange and Africell money subscription form";s:9:"PRO_TITLE";s:3:"B2W";s:18:"PRO_CATEGORY_LABEL";s:11:"No Category";}s:5:"tasks";a:2:{i:0;a:54:{s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"26165771462989050b61595025000219";s:8:"TAS_TYPE";s:6:"NORMAL";s:12:"TAS_DURATION";d:1;s:14:"TAS_DELAY_TYPE";s:0:"";s:14:"TAS_TEMPORIZER";d:0;s:12:"TAS_TYPE_DAY";s:0:"";s:12:"TAS_TIMEUNIT";s:4:"DAYS";s:9:"TAS_ALERT";s:5:"FALSE";s:21:"TAS_PRIORITY_VARIABLE";s:0:"";s:15:"TAS_ASSIGN_TYPE";s:8:"BALANCED";s:19:"TAS_ASSIGN_VARIABLE";s:30:"@@SYS_NEXT_USER_TO_BE_ASSIGNED";s:18:"TAS_GROUP_VARIABLE";s:0:"";s:24:"TAS_MI_INSTANCE_VARIABLE";s:24:"@@SYS_VAR_TOTAL_INSTANCE";s:24:"TAS_MI_COMPLETE_VARIABLE";s:34:"@@SYS_VAR_TOTAL_INSTANCES_COMPLETE";s:19:"TAS_ASSIGN_LOCATION";s:5:"FALSE";s:25:"TAS_ASSIGN_LOCATION_ADHOC";s:5:"FALSE";s:16:"TAS_TRANSFER_FLY";s:5:"FALSE";s:17:"TAS_LAST_ASSIGNED";s:32:"5583190916176e7bc167ef6053686939";s:8:"TAS_USER";s:1:"0";s:14:"TAS_CAN_UPLOAD";s:5:"FALSE";s:15:"TAS_VIEW_UPLOAD";s:5:"FALSE";s:33:"TAS_VIEW_ADDITIONAL_DOCUMENTATION";s:5:"FALSE";s:14:"TAS_CAN_CANCEL";s:5:"FALSE";s:13:"TAS_OWNER_APP";s:5:"FALSE";s:7:"STG_UID";s:0:"";s:13:"TAS_CAN_PAUSE";s:5:"FALSE";s:20:"TAS_CAN_SEND_MESSAGE";s:4:"TRUE";s:19:"TAS_CAN_DELETE_DOCS";s:5:"FALSE";s:16:"TAS_SELF_SERVICE";s:5:"FALSE";s:9:"TAS_START";s:4:"TRUE";s:16:"TAS_TO_LAST_USER";s:5:"FALSE";s:19:"TAS_SEND_LAST_EMAIL";s:5:"FALSE";s:14:"TAS_DERIVATION";s:6:"NORMAL";s:8:"TAS_POSX";i:218;s:8:"TAS_POSY";i:61;s:9:"TAS_WIDTH";i:165;s:10:"TAS_HEIGHT";i:40;s:9:"TAS_COLOR";s:0:"";s:11:"TAS_EVN_UID";s:0:"";s:12:"TAS_BOUNDARY";s:0:"";s:25:"TAS_DERIVATION_SCREEN_TPL";s:0:"";s:23:"TAS_SELFSERVICE_TIMEOUT";i:0;s:20:"TAS_SELFSERVICE_TIME";s:0:"";s:25:"TAS_SELFSERVICE_TIME_UNIT";s:0:"";s:27:"TAS_SELFSERVICE_TRIGGER_UID";s:0:"";s:25:"TAS_SELFSERVICE_EXECUTION";s:10:"EVERY_TIME";s:9:"TAS_TITLE";s:3:"CIS";s:15:"TAS_DESCRIPTION";s:0:"";s:13:"TAS_DEF_TITLE";s:0:"";s:19:"TAS_DEF_DESCRIPTION";s:0:"";s:17:"TAS_DEF_PROC_CODE";s:0:"";s:15:"TAS_DEF_MESSAGE";s:0:"";s:23:"TAS_DEF_SUBJECT_MESSAGE";s:0:"";}i:1;a:54:{s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"9553527836298908944b172037732298";s:8:"TAS_TYPE";s:6:"NORMAL";s:12:"TAS_DURATION";d:1;s:14:"TAS_DELAY_TYPE";s:0:"";s:14:"TAS_TEMPORIZER";d:0;s:12:"TAS_TYPE_DAY";s:0:"";s:12:"TAS_TIMEUNIT";s:4:"DAYS";s:9:"TAS_ALERT";s:5:"FALSE";s:21:"TAS_PRIORITY_VARIABLE";s:0:"";s:15:"TAS_ASSIGN_TYPE";s:8:"EVALUATE";s:19:"TAS_ASSIGN_VARIABLE";s:10:"@@approver";s:18:"TAS_GROUP_VARIABLE";s:0:"";s:24:"TAS_MI_INSTANCE_VARIABLE";s:24:"@@SYS_VAR_TOTAL_INSTANCE";s:24:"TAS_MI_COMPLETE_VARIABLE";s:34:"@@SYS_VAR_TOTAL_INSTANCES_COMPLETE";s:19:"TAS_ASSIGN_LOCATION";s:5:"FALSE";s:25:"TAS_ASSIGN_LOCATION_ADHOC";s:5:"FALSE";s:16:"TAS_TRANSFER_FLY";s:5:"FALSE";s:17:"TAS_LAST_ASSIGNED";s:1:"0";s:8:"TAS_USER";s:1:"0";s:14:"TAS_CAN_UPLOAD";s:5:"FALSE";s:15:"TAS_VIEW_UPLOAD";s:5:"FALSE";s:33:"TAS_VIEW_ADDITIONAL_DOCUMENTATION";s:5:"FALSE";s:14:"TAS_CAN_CANCEL";s:5:"FALSE";s:13:"TAS_OWNER_APP";s:5:"FALSE";s:7:"STG_UID";s:0:"";s:13:"TAS_CAN_PAUSE";s:5:"FALSE";s:20:"TAS_CAN_SEND_MESSAGE";s:4:"TRUE";s:19:"TAS_CAN_DELETE_DOCS";s:5:"FALSE";s:16:"TAS_SELF_SERVICE";s:5:"FALSE";s:9:"TAS_START";s:5:"FALSE";s:16:"TAS_TO_LAST_USER";s:5:"FALSE";s:19:"TAS_SEND_LAST_EMAIL";s:5:"FALSE";s:14:"TAS_DERIVATION";s:6:"NORMAL";s:8:"TAS_POSX";i:458;s:8:"TAS_POSY";i:239;s:9:"TAS_WIDTH";i:165;s:10:"TAS_HEIGHT";i:40;s:9:"TAS_COLOR";s:0:"";s:11:"TAS_EVN_UID";s:0:"";s:12:"TAS_BOUNDARY";s:0:"";s:25:"TAS_DERIVATION_SCREEN_TPL";s:0:"";s:23:"TAS_SELFSERVICE_TIMEOUT";i:0;s:20:"TAS_SELFSERVICE_TIME";s:0:"";s:25:"TAS_SELFSERVICE_TIME_UNIT";s:0:"";s:27:"TAS_SELFSERVICE_TRIGGER_UID";s:0:"";s:25:"TAS_SELFSERVICE_EXECUTION";s:0:"";s:9:"TAS_TITLE";s:3:"HOP";s:15:"TAS_DESCRIPTION";s:0:"";s:13:"TAS_DEF_TITLE";s:0:"";s:19:"TAS_DEF_DESCRIPTION";s:0:"";s:17:"TAS_DEF_PROC_CODE";s:0:"";s:15:"TAS_DEF_MESSAGE";s:0:"";s:23:"TAS_DEF_SUBJECT_MESSAGE";s:0:"";}}s:6:"routes";a:2:{i:0;a:17:{s:7:"ROU_UID";s:32:"598236083629e1c33b40ff3093028267";s:10:"ROU_PARENT";s:1:"0";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"9553527836298908944b172037732298";s:13:"ROU_NEXT_TASK";s:2:"-1";s:8:"ROU_CASE";s:1:"0";s:8:"ROU_TYPE";s:10:"SEQUENTIAL";s:13:"ROU_CONDITION";s:0:"";s:16:"ROU_TO_LAST_USER";s:5:"FALSE";s:12:"ROU_OPTIONAL";s:5:"FALSE";s:14:"ROU_SEND_EMAIL";s:4:"TRUE";s:16:"ROU_SOURCEANCHOR";s:1:"1";s:16:"ROU_TARGETANCHOR";s:1:"0";s:11:"ROU_TO_PORT";s:1:"1";s:13:"ROU_FROM_PORT";s:1:"2";s:11:"ROU_EVN_UID";s:0:"";s:7:"GAT_UID";s:0:"";}i:1;a:17:{s:7:"ROU_UID";s:32:"972747802629db83f128a68038849344";s:10:"ROU_PARENT";s:1:"0";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"26165771462989050b61595025000219";s:13:"ROU_NEXT_TASK";s:32:"9553527836298908944b172037732298";s:8:"ROU_CASE";s:1:"1";s:8:"ROU_TYPE";s:10:"SEQUENTIAL";s:13:"ROU_CONDITION";s:0:"";s:16:"ROU_TO_LAST_USER";s:5:"FALSE";s:12:"ROU_OPTIONAL";s:5:"FALSE";s:14:"ROU_SEND_EMAIL";s:4:"TRUE";s:16:"ROU_SOURCEANCHOR";s:1:"1";s:16:"ROU_TARGETANCHOR";s:1:"0";s:11:"ROU_TO_PORT";s:1:"1";s:13:"ROU_FROM_PORT";s:1:"2";s:11:"ROU_EVN_UID";s:0:"";s:7:"GAT_UID";s:0:"";}}s:5:"lanes";a:0:{}s:8:"gateways";a:0:{}s:6:"inputs";a:0:{}s:7:"outputs";a:0:{}s:9:"dynaforms";a:6:{i:0;a:8:{s:7:"DYN_UID";s:32:"231475830629a2525556ce3066248315";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"139770507629890467a0756043060120/231475830629a2525556ce3066248315";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:8:"operator";s:15:"DYN_DESCRIPTION";s:0:"";}i:1;a:8:{s:7:"DYN_UID";s:32:"521667480629c7256d271d8048227986";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"139770507629890467a0756043060120/521667480629c7256d271d8048227986";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:21:"orange_money_approval";s:15:"DYN_DESCRIPTION";s:0:"";}i:2;a:8:{s:7:"DYN_UID";s:32:"680816650629c722ae8f270059341625";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"139770507629890467a0756043060120/680816650629c722ae8f270059341625";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:19:"afri_money_approval";s:15:"DYN_DESCRIPTION";s:0:"";}i:3;a:8:{s:7:"DYN_UID";s:32:"824493408629f1153bf83a2020192879";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"139770507629890467a0756043060120/824493408629f1153bf83a2020192879";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:21:"afri_money_approval_f";s:15:"DYN_DESCRIPTION";s:0:"";}i:4;a:8:{s:7:"DYN_UID";s:32:"891082763629a26afbc73a2074664963";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"139770507629890467a0756043060120/891082763629a26afbc73a2074664963";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:12:"orange_money";s:15:"DYN_DESCRIPTION";s:0:"";}i:5;a:8:{s:7:"DYN_UID";s:32:"917205810629a270f0dc395083816447";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"139770507629890467a0756043060120/917205810629a270f0dc395083816447";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:10:"afri_money";s:15:"DYN_DESCRIPTION";s:0:"";}}s:5:"steps";a:6:{i:0;a:8:{s:8:"STEP_UID";s:32:"138183593629a277b348dc0011425114";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"26165771462989050b61595025000219";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"917205810629a270f0dc395083816447";s:14:"STEP_CONDITION";s:15:"@@oprators == 1";s:13:"STEP_POSITION";i:2;s:9:"STEP_MODE";s:4:"EDIT";}i:1;a:8:{s:8:"STEP_UID";s:32:"150817871629a27801e8df4049269763";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"26165771462989050b61595025000219";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"891082763629a26afbc73a2074664963";s:14:"STEP_CONDITION";s:14:"@@oprators ==2";s:13:"STEP_POSITION";i:3;s:9:"STEP_MODE";s:4:"EDIT";}i:2;a:8:{s:8:"STEP_UID";s:32:"391174316629a25e177ec02036485554";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"26165771462989050b61595025000219";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"231475830629a2525556ce3066248315";s:14:"STEP_CONDITION";s:0:"";s:13:"STEP_POSITION";i:1;s:9:"STEP_MODE";s:4:"EDIT";}i:3;a:8:{s:8:"STEP_UID";s:32:"745361328629db995d9d5b5018014722";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"9553527836298908944b172037732298";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"521667480629c7256d271d8048227986";s:14:"STEP_CONDITION";s:15:"@@oprators == 2";s:13:"STEP_POSITION";i:2;s:9:"STEP_MODE";s:4:"EDIT";}i:4;a:8:{s:8:"STEP_UID";s:32:"855377197629db990c29980089919210";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"9553527836298908944b172037732298";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"680816650629c722ae8f270059341625";s:14:"STEP_CONDITION";s:16:"@@oprators == 10";s:13:"STEP_POSITION";i:1;s:9:"STEP_MODE";s:4:"EDIT";}i:5;a:8:{s:8:"STEP_UID";s:32:"91412353562a0667d4ec334007466336";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:32:"9553527836298908944b172037732298";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"824493408629f1153bf83a2020192879";s:14:"STEP_CONDITION";s:15:"@@oprators == 1";s:13:"STEP_POSITION";i:3;s:9:"STEP_MODE";s:4:"EDIT";}}s:8:"triggers";a:2:{i:0;a:7:{s:7:"TRI_UID";s:32:"476165771629dd1517bb822034657173";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:223:"@=issueownerid =@=USER_LOGGED;
@@data = userInfo(@@USER_LOGGED);
@@approver = @@data['firstname'].' '.@@data['lastname'] ;
@@req_dd = getCurrentDate();
@@req_tt = getCurrentTime(); 
@@head_date = @@req_dd . " " . @@req_tt; ";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:9:"approvers";s:15:"TRI_DESCRIPTION";s:0:"";}i:1;a:7:{s:7:"TRI_UID";s:32:"768310546629dce4b76a8c8016130205";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:219:"@=issueownerid =@=USER_LOGGED;
@@data = userInfo(@@USER_LOGGED);
@@initiator = @@data['firstname'].' '.@@data['lastname'] ;
@@req_dd = getCurrentDate();
@@req_tt = getCurrentTime(); 
@@date = @@req_dd . " " . @@req_tt; ";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:9:"initiator";s:15:"TRI_DESCRIPTION";s:0:"";}}s:9:"taskusers";a:2:{i:0;a:4:{s:7:"TAS_UID";s:32:"26165771462989050b61595025000219";s:7:"USR_UID";s:32:"79336547862a6ebdb3db278029666103";s:7:"TU_TYPE";s:1:"1";s:11:"TU_RELATION";s:1:"2";}i:1;a:4:{s:7:"TAS_UID";s:32:"9553527836298908944b172037732298";s:7:"USR_UID";s:32:"30667114262b1e54a9c9c51084947597";s:7:"TU_TYPE";s:1:"1";s:11:"TU_RELATION";s:1:"2";}}s:8:"groupwfs";a:3:{i:0;a:5:{s:7:"GRP_UID";s:32:"30667114262b1e54a9c9c51084947597";s:10:"GRP_STATUS";s:6:"ACTIVE";s:11:"GRP_LDAP_DN";s:0:"";s:6:"GRP_UX";s:6:"NORMAL";s:9:"GRP_TITLE";s:3:"HOP";}i:1;a:5:{s:7:"GRP_UID";s:32:"79336547862a6ebdb3db278029666103";s:10:"GRP_STATUS";s:6:"ACTIVE";s:11:"GRP_LDAP_DN";s:0:"";s:6:"GRP_UX";s:6:"NORMAL";s:9:"GRP_TITLE";s:3:"B2W";}i:2;a:5:{s:7:"GRP_UID";s:32:"79336547862a6ebdb3db278029666103";s:10:"GRP_STATUS";s:6:"ACTIVE";s:11:"GRP_LDAP_DN";s:0:"";s:6:"GRP_UX";s:6:"NORMAL";s:9:"GRP_TITLE";s:3:"B2W";}}s:12:"steptriggers";a:4:{i:0;a:6:{s:8:"STEP_UID";s:32:"138183593629a277b348dc0011425114";s:7:"TAS_UID";s:32:"26165771462989050b61595025000219";s:7:"TRI_UID";s:32:"768310546629dce4b76a8c8016130205";s:7:"ST_TYPE";s:6:"BEFORE";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}i:1;a:6:{s:8:"STEP_UID";s:32:"150817871629a27801e8df4049269763";s:7:"TAS_UID";s:32:"26165771462989050b61595025000219";s:7:"TRI_UID";s:32:"768310546629dce4b76a8c8016130205";s:7:"ST_TYPE";s:6:"BEFORE";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}i:2;a:6:{s:8:"STEP_UID";s:32:"745361328629db995d9d5b5018014722";s:7:"TAS_UID";s:32:"9553527836298908944b172037732298";s:7:"TRI_UID";s:32:"476165771629dd1517bb822034657173";s:7:"ST_TYPE";s:6:"BEFORE";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}i:3;a:6:{s:8:"STEP_UID";s:32:"91412353562a0667d4ec334007466336";s:7:"TAS_UID";s:32:"9553527836298908944b172037732298";s:7:"TRI_UID";s:32:"476165771629dd1517bb822034657173";s:7:"ST_TYPE";s:6:"BEFORE";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}}s:13:"dbconnections";a:0:{}s:12:"reportTables";a:0:{}s:16:"reportTablesVars";a:0:{}s:14:"stepSupervisor";a:0:{}s:17:"objectPermissions";a:1:{i:0;a:11:{s:6:"OP_UID";s:32:"95092773462a6ecb8a873d8042553257";s:7:"PRO_UID";s:32:"139770507629890467a0756043060120";s:7:"TAS_UID";s:0:"";s:7:"USR_UID";s:32:"79336547862a6ebdb3db278029666103";s:16:"OP_USER_RELATION";i:2;s:14:"OP_TASK_SOURCE";s:0:"";s:14:"OP_PARTICIPATE";i:1;s:11:"OP_OBJ_TYPE";s:3:"ANY";s:10:"OP_OBJ_UID";s:0:"";s:9:"OP_ACTION";s:4:"VIEW";s:14:"OP_CASE_STATUS";s:3:"ALL";}}s:10:"subProcess";a:0:{}s:11:"caseTracker";a:0:{}s:17:"caseTrackerObject";a:0:{}s:5:"stage";a:0:{}s:14:"fieldCondition";a:0:{}s:5:"event";a:0:{}s:13:"caseScheduler";a:0:{}s:15:"processCategory";N;s:19:"taskExtraProperties";a:0:{}s:11:"processUser";a:0:{}s:16:"processVariables";a:0:{}}000000032231475830629a2525556ce3066248315000000803<?xml version="1.0" encoding="UTF-8"?>
<dynaForm type="xmlform" name="139770507629890467a0756043060120/231475830629a2525556ce3066248315" width="500" enabletemplate="0" mode="" nextstepsave="prompt">
  <oprators type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <en>Operator:             
      <option name="0">-----select-----</option>
      <option name="1">AfriMoney</option>
      <option name="2">Orange Money</option></en>
  </oprators>
  <submit type="submit" required="0" readonly="0" optgroup="0">
    <en>Next</en>
  </submit>
  <jscript type="javascript" meta=""><![CDATA[
getField('submit').onclick = function(){
  if(getField('oprators').value == 0){
    alert("You must select an operator");
    return false;
  }    
    return true;    
 }]]></jscript>
</dynaForm>
000000032231475830629a2525556ce3066248315000001715<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<form id="{$form_id}" class="formDefault" style="margin:0px;" action="{$form_action}" method="post" name="{$form_name}" enctype="multipart/form-data" onsubmit="return validateForm('{$form_objectRequiredFields}');">
<div class="borderForm" style="width:{$form_width}; padding-left:0; padding-right:0; border-width:{$form_border};">
<div class="boxTop">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
<div class="content" style="height:{$form_height};">
<table class="mceItemTable" style="width: 99%;">
<tbody>
<tr>
<td valign="top"><input id="__notValidateThisFields__" class="notValidateThisFields" type="hidden" name="__notValidateThisFields__" value="{$form_objectRequiredFields}" /> <input id="DynaformRequiredFields" type="hidden" name="DynaformRequiredFields" value="{$form_objectRequiredFields}" /> <input id="__DynaformName__" type="hidden" name="__DynaformName__" value="{$form_name}" />
<table class="mceItemTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="withoutLabel" style="height:auto;" colspan="2">{$form.__DYNAFORM_OPTIONS}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$oprators}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.oprators}</td>
</tr>
<tr>
<td class="FormButton" colspan="2" align="">{$form.submit}</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="boxBottom">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
</div>
</form>
000000032521667480629c7256d271d8048227986000008607<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="139770507629890467a0756043060120/521667480629c7256d271d8048227986" enabletemplate="1" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <titile type="title" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>B2W Form</en>
  </titile>
  <initiator type="text" maxlength="64" validate="Any" required="1" readonly="1" size="30" mode="edit" optgroup="0">
    <en>Initiator: </en>
  </initiator>
  <date type="text" maxlength="64" validate="Any" required="0" readonly="1" size="25" mode="edit" optgroup="0">
    <en>Date: </en>
  </date>
  <sub_tit type="subtitle" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>Customer Details</en>
  </sub_tit>
  <cus_acc type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Account Number: </en>
  </cus_acc>
  <phone_num type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Phone Number: </en>
  </phone_num>
  <names type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Name: </en>
  </names>
  <alias_num type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Alias Number: </en>
  </alias_num>
  <authentication_key type="text" maxlength="64" validate="Any" required="1" readonly="0" size="26" mode="edit" optgroup="0">
    <en>Authentication Key: </en>
  </authentication_key>
  <submit type="submit" required="0" readonly="0" optgroup="0">
    <en>Submit</en>
  </submit>
  <b2w type="javascript" meta=""><![CDATA[hiddenById("DYN_FORWARD");
hiddenById("DYN_FORWARD][bullet");

function geturl(){
var url = window.location.href;
var arr = url.split("/");
var result = arr[0] + "//" + arr[2];
  return result;
}

function _sApprove(e)
{
   
    e.preventDefault();
      var xmlhttp;

      function send_params()  //Initiates the ajax request
      {
        xmlhttp = get_xml_http();  //Gets a compatible XMLHttpRequest instance
        if (xmlhttp == null)
        {
          alert("Your borwser does not support the XMLHttpRequest object");
          return;
        }
        var prot = geturl();
        var url = prot + "/org_register.php";
        console.log(url);
        var content = get_content();  
        console.log(content);
        //alert(content);
        xmlhttp.open("POST", url, true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //xmlhttp.setRequestHeader("Content-length", content.length);
        //xmlhttp.setRequestHeader("Connection", "close");
        xmlhttp.onreadystatechange = state_changed;  
        xmlhttp.send(content);
      }
      
      function get_content()  
      {
        var acct = getField("cus_acc").value;
        var phone = getField("phone_num").value;        
        var cus_name =  getField("cus_name").value;
        var names = getField("names").value ;
        var alias =  getField("alias_num").value;
        var user =  getField("initiator").value;
        var cust_type =  getField("depositor_type").value;
        var OMKey =  getField("authentication_key").value;
       
        var string = "";
        if (OMKey ==''){
       
          alert("Key is empty");
         
             return string;
            }
            else {  
        string += "user=";  
        string += user;
        string += "&";
        string += "msisdn=";  
        string += phone;
        string += "&";
        string += "alias=";  
        string += alias;
        string += "&";
        string += "code_service=1";  
        string += "&";
        string += "label=";  
        string += names;
        string += "&";
        string += "cusname=";  
        string += cus_name;
        string += "&";
        string += "acc=";  
        string += acct;
        string += "&";
        string += "custType=";  
        string += cust_type; 
        string += "&";
        string += "OMKey=";  
        string += OMKey;
        return string;
            }
    
      
      }

      function state_changed()  //Called when xmlhttp state changes e.g. when the server returns something
      {
        if (xmlhttp.readyState == 4 && xmlhttp.status==200)
        {
          
          var ret=xmlhttp.responseText;        
 var parser, xmlDoc;
parser = new DOMParser();
xmlDoc = parser.parseFromString(ret,"text/xml");
var res   = xmlDoc.getElementsByTagName("res")[0].childNodes[0].nodeValue;
          alert(res)
           if(res!='Failed'){             
               getField("approval_flag").value = 1;
             // document.forms[0].submit()
               submitForm("");
             }
        }
      }

      function get_xml_http()  //Returns an instance that is compatible with the browser
      {
        if (window.XMLHttpRequest)
        {
          return new XMLHttpRequest();
        }
        if (window.ActiveXObject)
        {
          return new ActiveXObject("Microsoft.XMLHTTP");
        }
        return null;
      }
send_params();
}

function appConfirm(e){
   if (confirm('Are you sure you want to Submit', 'confirmation') == true){    
  
  _sApprove(e)
    } 
  }
 
getField("submit").onclick = appConfirm;











/*
function doFetch(e)
{
  console.log(e)
      var xmlhttp;

      function send_params()  //Initiates the ajax request
      {
        xmlhttp = get_xml_http();  //Gets a compatible XMLHttpRequest instance
        if (xmlhttp == null)
        {
          alert("Your borwser does not support the XMLHttpRequest object");
          return;
        }
        var prot = geturl();
        var url = prot + "/b2w_fetch.php";
        console.log(url);
        var content = get_content();  
        console.log(content);
        //alert(content);
        xmlhttp.open("POST", url, true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //xmlhttp.setRequestHeader("Content-length", content.length);
        //xmlhttp.setRequestHeader("Connection", "close");
        xmlhttp.onreadystatechange = state_changed;  
        xmlhttp.send(content);
      }
      
      function get_content()  
      {
        var acct = getField("cus_acc").value;
        //var curr = 1;
        var phone = getField("phone_num").value;

        
        var string = "";
        if (acct =='' || phone == ''){
             return string;
            }
            else {
        
        string += "acct=";  
        string += acct;
        string += "&";
        string += "phone=";  
        string += phone;
               
        return string;
            }
      }

      function state_changed()  //Called when xmlhttp state changes e.g. when the server returns something
      {
        if (xmlhttp.readyState == 4 && xmlhttp.status==200)
        {
          
          var ret=xmlhttp.responseText;          
          ret = ret.split("|");
          console.log(ret);
          
          getField("cus_name").value = ret[1];
           getField("names").value = ret[2];
           getField("alias_num").value = ret[3];
        }
      }

      function get_xml_http()  //Returns an instance that is compatible with the browser
      {
        if (window.XMLHttpRequest)
        {
          return new XMLHttpRequest();
        }
        if (window.ActiveXObject)
        {
          return new ActiveXObject("Microsoft.XMLHTTP");
        }
        return null;
      }
send_params();
}
getField("cus_acc").onchange = doFetch;
getField("phone_num").onchange = doFetch;*/]]></b2w>
  <cus_name type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Customer name: </en>
  </cus_name>
  <code_ser type="text" maxlength="64" validate="Any" required="0" readonly="1" defaultvalue="1" size="26" mode="edit" optgroup="0">
    <en>Code Service: </en>
  </code_ser>
  <approval_flag type="hidden" defaultvalue="0" mode="edit" required="0" readonly="0" optgroup="0"/>
  <approver type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Head Of Operation: </en>
  </approver>
  <head_date type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Date:</en>
  </head_date>
  <depositor_type type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Depositor Type: </en>
  </depositor_type>
</dynaForm>
000000032521667480629c7256d271d8048227986000004959<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<form id="{$form_id}" class="formDefault" style="margin:0px;" action="{$form_action}" method="post" name="{$form_name}" enctype="multipart/form-data" onsubmit="return validateForm('{$form_objectRequiredFields}');">
<div class="borderForm" style="width:{$form_width}; padding-left:0; padding-right:0; border-width:{$form_border};">
<div class="boxTop">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
<div class="content" style="height:{$form_height};">
<table class="mceItemTable" style="width: 99%;">
<tbody>
<tr>
<td valign="top"><input id="__notValidateThisFields__" class="notValidateThisFields" type="hidden" name="__notValidateThisFields__" value="{$form_objectRequiredFields}" /> <input id="DynaformRequiredFields" type="hidden" name="DynaformRequiredFields" value="{$form_objectRequiredFields}" /> <input id="__DynaformName__" type="hidden" name="__DynaformName__" value="{$form_name}" />
<table class="mceItemTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="withoutLabel" style="height:auto;" colspan="2">{$form.__DYNAFORM_OPTIONS}</td>
</tr>
<tr>
<td class="FormTitle" colspan="2" align="">{$form.titile} Orange Money</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">{$initiator}{$form.initiator}</td>
<td style="" align="right" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed;">{$date}{$form.date}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">{$form.sub_tit}</span></p>
</td>
<td style="" align="right" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">{$cus_acc}{$form.cus_acc}</span></p>
</td>
<td style="" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px; text-align: start;">&nbsp; &nbsp; &nbsp; &nbsp; {$phone_num}{$form.phone_num}</span>&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;"><span>&nbsp;{$cus_name}{$form.cus_name}</span></span></p>
</td>
<td style="" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px; text-align: start;"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {$code_ser}{$form.code_ser}</span></span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>{$names}{$form.names}</span></span></p>
</td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$alias_num}{$form.alias_num}</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;&nbsp;<span>{$depositor_type}{$form.depositor_type}</span></td>
<td style="" align="left" data-mce-style="">&nbsp;{$authentication_key}{$form.authentication_key}</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;</td>
<td style="" align="left" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style=""><span><span>{$approver}{$form.approver}</span></span></td>
<td style="" align="left" data-mce-style="">&nbsp;<span>{$head_date}{$form.head_date}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;</td>
<td style="" align="left" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" colspan="2" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$form.submit}&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>{$form.save}</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<script type="text/javascript">// <![CDATA[
{$form.b2w}
// ]]></script>
</div>
<br /><br /><br /><br /><br /><br />{$approval_flag}{$form.approval_flag}<br /><br />&nbsp;<br /><br /><br />{$indicator}{$form.indicator}</form>
000000032680816650629c722ae8f270059341625000005926<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="139770507629890467a0756043060120/680816650629c722ae8f270059341625" enabletemplate="1" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <titile type="title" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>B2W Form</en>
  </titile>
  <initiator type="text" maxlength="64" validate="Any" required="1" readonly="1" size="30" mode="edit" optgroup="0">
    <en>Initiator: </en>
  </initiator>
  <date type="text" maxlength="64" validate="Any" required="0" readonly="1" size="25" mode="edit" optgroup="0">
    <en>Date: </en>
  </date>
  <sub_tit type="subtitle" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>Customer Details</en>
  </sub_tit>
  <cus_acc type="text" maxlength="64" validate="Any" required="1" readonly="0" size="26" mode="edit" optgroup="0">
    <en>Account Number: </en>
  </cus_acc>
  <phone_num type="text" maxlength="64" validate="Any" required="0" readonly="0" size="26" mode="edit" optgroup="0">
    <en>Phone Number: </en>
  </phone_num>
  <cus_name type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Customer Name: </en>
  </cus_name>
  <afri_cus_name type="text" maxlength="64" validate="Any" required="0" readonly="1" defaultvalue="KYC" size="26" mode="edit" optgroup="0">
    <en>Africell Customer Name: </en>
  </afri_cus_name>
  <depositor_type type="dropdown" required="1" readonly="0" optgroup="0" mode="edit">
    <en>Depositor Type:             
      <option name="">-----------select------------------</option>
      <option name="Subscriber">Subscriber</option>
      <option name="Agent">Agent</option></en>
  </depositor_type>
  <submit type="submit" required="0" readonly="0" optgroup="0">
    <en>Submit</en>
  </submit>
  <save type="submit" required="0" readonly="0" optgroup="0">
    <en>Save as Draft</en>
  </save>
  <b2w type="javascript" meta=""><![CDATA[hiddenById("DYN_FORWARD");
hiddenById("DYN_FORWARD][bullet");

function geturl(){
var url = window.location.href;
var arr = url.split("/");
var result = arr[0] + "//" + arr[2];
  return result;
}

function doFetch()
{
      var xmlhttp;

      function send_params()  //Initiates the ajax request
      {
        xmlhttp = get_xml_http();  //Gets a compatible XMLHttpRequest instance
        if (xmlhttp == null)
        {
          alert("Your borwser does not support the XMLHttpRequest object");
          return;
        }
        var prot = geturl();
        var url = prot + "/b2w_fetch_afri.php";
        console.log(url);
        var content = get_content();  
        console.log(content);
        //alert(content);
        xmlhttp.open("POST", url, true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //xmlhttp.setRequestHeader("Content-length", content.length);
        //xmlhttp.setRequestHeader("Connection", "close");
        xmlhttp.onreadystatechange = state_changed;  
        xmlhttp.send(content);
      }
      
      function get_content()  
      {
        var acct = getField("cus_acc").value;
        //var curr = 1;
        var phone = getField("phone_num").value;

        
        var string = "";
        if (acct =='' || phone == ''){
             return string;
            }
            else {
        
        string += "acc=";  
        string += acct;
        string += "&";
        string += "phones=";  
        string += phone;
               
        return string;
            }
      }

      function state_changed()  //Called when xmlhttp state changes e.g. when the server returns something
      {
        if (xmlhttp.readyState == 4 && xmlhttp.status==200)
        {
          
          var ret=xmlhttp.responseText;
        var parser, xmlDoc;
console.log(ret)

parser = new DOMParser();
xmlDoc = parser.parseFromString(ret,"text/xml");

getField("cus_name").value   = xmlDoc.getElementsByTagName("cusname")[0].childNodes[0].nodeValue;
          
          
getField("cus_id").value   = xmlDoc.getElementsByTagName("cusid")[0].childNodes[0].nodeValue;
          getField("id_num").value   = xmlDoc.getElementsByTagName("idnum")[0].childNodes[0].nodeValue;
 
          
       /*
       
       
       
          1: "ALHAJI AMADU MASIE BARRIE"
2: "ALHAJI"
3: "GTBISLFR20110019501100"   */
          //getField("buyrate").value = ret[1];
          //getField("sellrate").value = ret[2];
          getField("name").value = ret[1];
        }
      }

      function get_xml_http()  //Returns an instance that is compatible with the browser
      {
        if (window.XMLHttpRequest)
        {
          return new XMLHttpRequest();
        }
        if (window.ActiveXObject)
        {
          return new ActiveXObject("Microsoft.XMLHTTP");
        }
        return null;
      }
send_params();
}
getField("cus_acc").onchange = doFetch;
getField("phone_num").onchange = doFetch;




getField('submit').onclick = function(){
  if(getField('depositor_type').value == 0 || getField('alias_num').value == '' || getField('cus_name').value == ''){
    alert("You must fill every thing correctly");
    getField('approval_flag').value == 0
    approval_flag
    return false;
  }  
   getField('approval_flag').value == 1;
    return true;    
 }]]></b2w>
  <cus_id type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Customer ID: </en>
  </cus_id>
  <id_num type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>ID Number: </en>
  </id_num>
  <gender type="dropdown" required="1" readonly="0" optgroup="0" mode="edit">
    <en>Gender:                   
      <option name="">--------------select---------------</option>
      <option name="1">Male</option>
      <option name="2">Female</option></en>
  </gender>
</dynaForm>
000000032680816650629c722ae8f270059341625000004321<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<form id="{$form_id}" class="formDefault" style="margin:0px;" action="{$form_action}" method="post" name="{$form_name}" enctype="multipart/form-data" onsubmit="return validateForm('{$form_objectRequiredFields}');">
<div class="borderForm" style="width:{$form_width}; padding-left:0; padding-right:0; border-width:{$form_border};">
<div class="boxTop">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
<div class="content" style="height:{$form_height};">
<table class="mceItemTable" style="width: 99%;">
<tbody>
<tr>
<td valign="top"><input id="__notValidateThisFields__" class="notValidateThisFields" type="hidden" name="__notValidateThisFields__" value="{$form_objectRequiredFields}" /> <input id="DynaformRequiredFields" type="hidden" name="DynaformRequiredFields" value="{$form_objectRequiredFields}" /> <input id="__DynaformName__" type="hidden" name="__DynaformName__" value="{$form_name}" />
<table class="mceItemTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="withoutLabel" style="height:auto;" colspan="2">{$form.__DYNAFORM_OPTIONS}</td>
</tr>
<tr>
<td class="FormTitle" colspan="2" align="">{$form.titile} AfriMoney</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">{$initiator}{$form.initiator}</td>
<td style="" align="right" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed;">{$date}{$form.date}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">{$form.sub_tit}</span></p>
</td>
<td style="" align="right" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$cus_acc}{$form.cus_acc}</span></p>
</td>
<td style="" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px; text-align: start;">{$phone_num}{$form.phone_num}</span>&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;"><span>&nbsp;<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>{$cus_name}{$form.cus_name}</span></span></span></span></p>
</td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp;<span>{$cus_id}{$form.cus_id}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;"><span>{$afri_cus_name}{$form.afri_cus_name}</span></span></p>
</td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>{$id_num}{$form.id_num}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>{$depositor_type}{$form.depositor_type}</span></td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>{$gender}{$form.gender}</span></td>
</tr>
<tr>
<td style="" colspan="2" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$form.submit}&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>{$form.save}</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<script type="text/javascript">// <![CDATA[
{$form.b2w}
// ]]></script>
</div>
<br /><br /><br />&nbsp;<br /><br /></form>
000000032824493408629f1153bf83a2020192879000009482<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="139770507629890467a0756043060120/824493408629f1153bf83a2020192879" enabletemplate="1" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <titile type="title" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>B2W Form</en>
  </titile>
  <initiator type="text" maxlength="64" validate="Any" required="1" readonly="1" size="30" mode="edit" optgroup="0">
    <en>Initiator: </en>
  </initiator>
  <date type="text" maxlength="64" validate="Any" required="1" readonly="1" size="25" mode="edit" optgroup="0">
    <en>Date: </en>
  </date>
  <sub_tit type="subtitle" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>Customer Details</en>
  </sub_tit>
  <cus_acc type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Account Number: </en>
  </cus_acc>
  <phone_num type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Phone Number: </en>
  </phone_num>
  <cus_name type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Customer Name: </en>
  </cus_name>
  <afri_cus_name type="text" maxlength="64" validate="Any" required="0" readonly="1" defaultvalue="KYC" size="26" mode="edit" optgroup="0">
    <en>Africell Customer Name: </en>
  </afri_cus_name>
  <submit type="submit" required="0" readonly="0" optgroup="0">
    <en>Submit</en>
  </submit>
  <b2w type="javascript" meta=""><![CDATA[hiddenById("DYN_FORWARD");
hiddenById("DYN_FORWARD][bullet");

//afri_register.php







function geturl(){
var url = window.location.href;
var arr = url.split("/");
var result = arr[0] + "//" + arr[2];
  return result;
}







function _sApprove(e)
{
   
    e.preventDefault();
      var xmlhttp;

      function send_params()  //Initiates the ajax request
      {
        xmlhttp = get_xml_http();  //Gets a compatible XMLHttpRequest instance
        if (xmlhttp == null)
        {
          alert("Your borwser does not support the XMLHttpRequest object");
          return;
        }
        var prot = geturl();
        var url = prot + "/afri_register.php";
        console.log(url);
        var content = get_content();  
        console.log(content);
        //alert(content);
        xmlhttp.open("POST", url, true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //xmlhttp.setRequestHeader("Content-length", content.length);
        //xmlhttp.setRequestHeader("Connection", "close");
        xmlhttp.onreadystatechange = state_changed;  
        xmlhttp.send(content);
      }
      
      function get_content()  
      {
        
        
    //    <!-- afri_registration(user, phone, cus_name, acc, txtidno, txtcusid, usrRole, txtKyc, txtgender); -->
       
       var user = getField("approver").value;
      
       var phone = getField("phone_num").value;  
       var cus_name =  getField("cus_name").value;
       var cus_acc=  getField("cus_acc").value;   
       var cus_id =  getField("cus_id").value;
       var id_num =  getField("id_num").value;
       var usrRole  =  getField("depositor_type").value;
       var txtKyc=  getField("afri_cus_name").value;       
       var txtgender=  getField("gender").value;
       
        var string = "";
     if (user == '' || phone  == '' || cus_name == '' || cus_acc == '' ||  cus_id == '' || + id_num == '' || + usrRole == '' ||  txtKyc == '' ||   txtgender == ''){
       
          alert("Please make sure all fields are filled properly");
         
             return string;
       }else{        
        string += "user="  + user;
        string += "&phone=" + phone ;
        string += "&cusname=" + cus_name;
        string +=  "&acc=" + cus_acc;  
        string +=  "&txtcusid=" + cus_id; 
        string +=  "&txtidno="+ id_num;
        string += "&usrRole=" + usrRole;
        string += "&txtKyc=" + txtKyc;       
        string += "&txtgender=" + txtgender;    
        return string;
            }
    
      
      }

      function state_changed()  //Called when xmlhttp state changes e.g. when the server returns something
      {
        if (xmlhttp.readyState == 4 && xmlhttp.status==200)
        {
          
          var ret=xmlhttp.responseText;        
 var parser, xmlDoc;
parser = new DOMParser();
xmlDoc = parser.parseFromString(ret,"text/xml");
var res   = xmlDoc.getElementsByTagName("res")[0].childNodes[0].nodeValue;
          alert(res)
           if(res!='Failed'){             
               getField("approval_flag").value = 1;
             // document.forms[0].submit()
               submitForm("");
             }
        }
      }

      function get_xml_http()  //Returns an instance that is compatible with the browser
      {
        if (window.XMLHttpRequest)
        {
          return new XMLHttpRequest();
        }
        if (window.ActiveXObject)
        {
          return new ActiveXObject("Microsoft.XMLHTTP");
        }
        return null;
      }
send_params();
}

function appConfirm(e){
   if (confirm('Are you sure you want to Submit', 'confirmation') == true){    
 
 
  _sApprove(e)
    }
  }
 
getField("submit").onclick = appConfirm;

 






































































 

function doFetch()
{
      var xmlhttp;

      function send_params()  //Initiates the ajax request
      {
        xmlhttp = get_xml_http();  //Gets a compatible XMLHttpRequest instance
        if (xmlhttp == null)
        {
          alert("Your borwser does not support the XMLHttpRequest object");
          return;
        }
        var prot = geturl();
        var url = prot + "/b2w_fetch_afri.php";
        console.log(url);
        var content = get_content();  
        console.log(content);
        //alert(content);
        xmlhttp.open("POST", url, true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //xmlhttp.setRequestHeader("Content-length", content.length);
        //xmlhttp.setRequestHeader("Connection", "close");
        xmlhttp.onreadystatechange = state_changed;  
        xmlhttp.send(content);
      }
      
      function get_content()  
      {
        var acct = getField("cus_acc").value;
        //var curr = 1;
        var phone = getField("phone_num").value;

        
        var string = "";
        if (acct =='' || phone == ''){
             return string;
            }
            else {
        
        string += "acc=";  
        string += acct;
        string += "&";
        string += "phones=";  
        string += phone;
               
        return string;
            }
      }

      function state_changed()  //Called when xmlhttp state changes e.g. when the server returns something
      {
        if (xmlhttp.readyState == 4 && xmlhttp.status==200)
        {
          
          var ret=xmlhttp.responseText;
        var parser, xmlDoc;
console.log(ret)

parser = new DOMParser();
xmlDoc = parser.parseFromString(ret,"text/xml");

getField("cus_name").value   = xmlDoc.getElementsByTagName("cusname")[0].childNodes[0].nodeValue;
          
          
getField("cus_id").value   = xmlDoc.getElementsByTagName("cusid")[0].childNodes[0].nodeValue;
          getField("id_num").value   = xmlDoc.getElementsByTagName("idnum")[0].childNodes[0].nodeValue;
 
          
       /*
       
       
       
          1: "ALHAJI AMADU MASIE BARRIE"
2: "ALHAJI"
3: "GTBISLFR20110019501100"   */
          //getField("buyrate").value = ret[1];
          //getField("sellrate").value = ret[2];
        //  getField("name").value = ret[1];
        }
      }

      function get_xml_http()  //Returns an instance that is compatible with the browser
      {
        if (window.XMLHttpRequest)
        {
          return new XMLHttpRequest();
        }
        if (window.ActiveXObject)
        {
          return new ActiveXObject("Microsoft.XMLHTTP");
        }
        return null;
      }
send_params();
}
getField("cus_acc").onchange = doFetch;
getField("phone_num").onchange = doFetch;




/*getField('submit').onclick = function(){
  if(getField('depositor_type').value == 0 || getField('alias_num').value == '' || getField('cus_name').value == ''){
    alert("You must fill every thing correctly");
    getField('approval_flag').value == 0
    approval_flag
    return false;
  }  
   getField('approval_flag').value == 1;
    return true;    
 }*/]]></b2w>
  <cus_id type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Customer ID: </en>
  </cus_id>
  <id_num type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>ID Number: </en>
  </id_num>
  <depositor_type type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Depositor Type: </en>
  </depositor_type>
  <gender type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Gender: </en>
  </gender>
  <approver type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Head Of Operation: </en>
  </approver>
  <head_date type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Date:</en>
  </head_date>
</dynaForm>
000000032824493408629f1153bf83a2020192879000004781<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<form id="{$form_id}" class="formDefault" style="margin:0px;" action="{$form_action}" method="post" name="{$form_name}" enctype="multipart/form-data" onsubmit="return validateForm('{$form_objectRequiredFields}');">
<div class="borderForm" style="width:{$form_width}; padding-left:0; padding-right:0; border-width:{$form_border};">
<div class="boxTop">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
<div class="content" style="height:{$form_height};">
<table class="mceItemTable" style="width: 99%;">
<tbody>
<tr>
<td valign="top"><input id="__notValidateThisFields__" class="notValidateThisFields" type="hidden" name="__notValidateThisFields__" value="{$form_objectRequiredFields}" /> <input id="DynaformRequiredFields" type="hidden" name="DynaformRequiredFields" value="{$form_objectRequiredFields}" /> <input id="__DynaformName__" type="hidden" name="__DynaformName__" value="{$form_name}" />
<table class="mceItemTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="withoutLabel" style="height:auto;" colspan="2">{$form.__DYNAFORM_OPTIONS}</td>
</tr>
<tr>
<td class="FormTitle" colspan="2" align="">{$form.titile} AfriMoney</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">{$initiator}{$form.initiator}</td>
<td style="" align="right" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed;">{$date}{$form.date}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">{$form.sub_tit}</span></p>
</td>
<td style="" align="right" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$cus_acc}{$form.cus_acc}</span></p>
</td>
<td style="" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px; text-align: start;">{$phone_num}{$form.phone_num}</span>&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;"><span>&nbsp;<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>{$cus_name}{$form.cus_name}</span></span></span></span></p>
</td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp;<span>{$cus_id}{$form.cus_id}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;"><span>{$afri_cus_name}{$form.afri_cus_name}</span></span></p>
</td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>{$id_num}{$form.id_num}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>{$depositor_type}{$form.depositor_type}</span></td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>{$gender}{$form.gender}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;</td>
<td style="" align="left" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" align="center" data-mce-style=""><span>{$approver}{$form.approver}</span></td>
<td style="" align="left" data-mce-style="">{$head_date}{$form.head_date}</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;</td>
<td style="" align="left" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" colspan="2" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$form.submit}&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>{$form.save}</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<script type="text/javascript">// <![CDATA[
{$form.b2w}
// ]]></script>
</div>
<br /><br /><br />&nbsp;<br /><br /><br /><br /><br /></form>
000000032891082763629a26afbc73a2074664963000006171<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="139770507629890467a0756043060120/891082763629a26afbc73a2074664963" enabletemplate="1" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <titile type="title" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>B2W Form</en>
  </titile>
  <initiator type="text" maxlength="64" validate="Any" required="1" readonly="1" defaultvalue="masie" size="30" mode="edit" optgroup="0">
    <en>Initiator: </en>
  </initiator>
  <date type="text" maxlength="64" validate="Any" required="0" readonly="1" size="25" mode="edit" optgroup="0">
    <en>Date: </en>
  </date>
  <sub_tit type="subtitle" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>Customer Details</en>
  </sub_tit>
  <cus_acc type="text" maxlength="64" validate="Any" required="1" readonly="0" size="26" mode="edit" optgroup="0">
    <en>Account Number: </en>
  </cus_acc>
  <phone_num type="text" maxlength="64" validate="Any" required="0" readonly="0" size="26" mode="edit" optgroup="0">
    <en>Phone Number: </en>
  </phone_num>
  <names type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Name: </en>
  </names>
  <alias_num type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Alias Number: </en>
  </alias_num>
  <depositor_type type="dropdown" required="1" readonly="0" optgroup="0" mode="edit">
    <en>Depositor Type:                         
      <option name="">-----------select------------------</option>
      <option name="Subscriber">Subscriber</option>
      <option name="Agent">Agent</option></en>
  </depositor_type>
  <authentication_key type="text" maxlength="64" validate="Any" required="0" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Authentication Key: </en>
  </authentication_key>
  <submit type="submit" required="0" readonly="0" optgroup="0">
    <en>Submit</en>
  </submit>
  <save type="submit" required="0" readonly="0" optgroup="0">
    <en>Save as Draft</en>
  </save>
  <b2w type="javascript" meta=""><![CDATA[hiddenById("DYN_FORWARD");
hiddenById("DYN_FORWARD][bullet");

function geturl(){
var url = window.location.href;
var arr = url.split("/");
var result = arr[0] + "//" + arr[2];
  return result;
}

function doFetch()
{
      var xmlhttp;

      function send_params()  //Initiates the ajax request
      {
        xmlhttp = get_xml_http();  //Gets a compatible XMLHttpRequest instance
        if (xmlhttp == null)
        {
          alert("Your borwser does not support the XMLHttpRequest object");
          return;
        }
        var prot = geturl();
        var url = prot + "/b2w_fetch.php";
        console.log(url);
        var content = get_content();  
        console.log(content);
        //alert(content);
        xmlhttp.open("POST", url, true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //xmlhttp.setRequestHeader("Content-length", content.length);
        //xmlhttp.setRequestHeader("Connection", "close");
        xmlhttp.onreadystatechange = state_changed;  
        xmlhttp.send(content);
      }
      
      function get_content()  
      {
        var acct = getField("cus_acc").value;
        //var curr = 1;
        var phone = getField("phone_num").value;
 var alias= getField("alias_num").value;
        
        var string = "";
        if (acct =='' || phone == ''  ){
             return string;
            }
            else {
        
        string += "acct=";  
        string += acct;
        string += "&";
        string += "phone=";  
        string += phone;
               
        return string;
            }
      }

      function state_changed()  //Called when xmlhttp state changes e.g. when the server returns something
      {
        if (xmlhttp.readyState == 4 && xmlhttp.status==200)
        {
          
          var ret=xmlhttp.responseText;          
          ret = ret.split("|");
          console.log(ret);
          
          getField("cus_name").value = ret[1];
           getField("names").value = ret[2];
           getField("alias_num").value = ret[3];
        }
      }

      function get_xml_http()  //Returns an instance that is compatible with the browser
      {
        if (window.XMLHttpRequest)
        {
          return new XMLHttpRequest();
        }
        if (window.ActiveXObject)
        {
          return new ActiveXObject("Microsoft.XMLHTTP");
        }
        return null;
      }
send_params();
}
getField("cus_acc").onchange = doFetch;
getField("phone_num").onchange = doFetch;


getField("submit").onclick = function(e){
  e.preventDefault();
  
  var alias = getField("alias_num").value.length;
    var dtype = getField("depositor_type").value.length;
    var appr= getField("approver").value.length;
  if((alias*1) < 20 ||  dtype == '' || appr=='' ){
    alert("Please make sure all fields are filled");
    }else{
     submitForm();
    }  
}]]></b2w>
  <cus_name type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Customer name: </en>
  </cus_name>
  <code_ser type="text" maxlength="64" validate="Any" required="0" readonly="1" defaultvalue="1" size="26" mode="edit" optgroup="0">
    <en>Code Service: </en>
  </code_ser>
  <approval_flag type="hidden" defaultvalue="0" mode="edit" required="0" readonly="0" optgroup="0"/>
  <approver type="dropdown" required="1" readonly="0" optgroup="0" mode="edit" sqlconnection="workflow"><![CDATA[    SELECT A.USR_UID,UPPER(CONCAT(A.USR_FIRSTNAME,' ' ,A.USR_LASTNAME)) 
FROM USERS A, GROUP_USER B, CONTENT C WHERE B.GRP_UID = C.CON_ID AND C.CON_CATEGORY = 'GRP_TITLE' AND C.CON_VALUE IN ('UNIT HEAD','RELATIONSHIP MANAGER','OPERATIONS HEAD','MARKETING GROUP HEAD','OPERATIONS GROUP HEAD','DIVISIONAL HEAD','GENERAL MANAGER', 'EXPENSE_CONTROL','SYSCON') AND B.USR_UID=A.USR_UID AND A.USR_STATUS='ACTIVE' ORDER BY 2
    ]]><en>Head Of Operation:                         
      <option name="">--------------select---------------</option></en></approver>
</dynaForm>
000000032891082763629a26afbc73a2074664963000004782<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<form id="{$form_id}" class="formDefault" style="margin:0px;" action="{$form_action}" method="post" name="{$form_name}" enctype="multipart/form-data" onsubmit="return validateForm('{$form_objectRequiredFields}');">
<div class="borderForm" style="width:{$form_width}; padding-left:0; padding-right:0; border-width:{$form_border};">
<div class="boxTop">
<div align="center" class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
<div class="content" style="height:{$form_height};">
<table class="mceItemTable" style="width: 99%;">
<tbody>
<tr>
<td valign="top"><input id="__notValidateThisFields__" class="notValidateThisFields" type="hidden" name="__notValidateThisFields__" value="{$form_objectRequiredFields}" /> <input id="DynaformRequiredFields" type="hidden" name="DynaformRequiredFields" value="{$form_objectRequiredFields}" /> <input id="__DynaformName__" type="hidden" name="__DynaformName__" value="{$form_name}" />
<table class="mceItemTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="withoutLabel" style="height:auto;" colspan="2">{$form.__DYNAFORM_OPTIONS}</td>
</tr>
<tr>
<td class="FormTitle" colspan="2" align="">{$form.titile} Orange Money</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">{$initiator}{$form.initiator}</td>
<td style="" align="right" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed;">{$date}{$form.date}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">{$form.sub_tit}</span></p>
</td>
<td style="" align="right" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">{$cus_acc}{$form.cus_acc}</span></p>
</td>
<td style="" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px; text-align: start;">&nbsp; &nbsp; &nbsp; &nbsp; {$phone_num}{$form.phone_num}</span>&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;"><span>&nbsp;{$cus_name}{$form.cus_name}</span></span></p>
</td>
<td style="" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px; text-align: start;"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {$code_ser}{$form.code_ser}</span></span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>{$names}{$form.names}</span></span></p>
</td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$alias_num}{$form.alias_num}</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;&nbsp;<span>{$depositor_type}{$form.depositor_type}</span></td>
<td style="" align="left" data-mce-style="">&nbsp;{$authentication_key}{$form.authentication_key}</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;</td>
<td style="" align="left" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" colspan="2" align="center" data-mce-style=""><span>{$approver}{$form.approver}</span></td>
</tr>
<tr>
<td style="" colspan="2" align="center" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" colspan="2" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$form.submit}&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>{$form.save}</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<script type="text/javascript">// <![CDATA[
{$form.b2w}
// ]]></script>
</div>
<br /><br /><br /><br /><br /><br />{$approval_flag}{$form.approval_flag}<br /><br /></form>
000000032917205810629a270f0dc395083816447000006549<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="139770507629890467a0756043060120/917205810629a270f0dc395083816447" enabletemplate="1" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <titile type="title" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>B2W Form</en>
  </titile>
  <initiator type="text" maxlength="64" validate="Any" required="1" readonly="1" size="30" mode="edit" optgroup="0">
    <en>Initiator: </en>
  </initiator>
  <date type="text" maxlength="64" validate="Any" required="1" readonly="1" size="25" mode="edit" optgroup="0">
    <en>Date: </en>
  </date>
  <sub_tit type="subtitle" enablehtml="1" required="0" readonly="0" optgroup="0">
    <en>Customer Details</en>
  </sub_tit>
  <cus_acc type="text" maxlength="64" validate="Any" required="1" readonly="0" size="26" mode="edit" optgroup="0">
    <en>Account Number: </en>
  </cus_acc>
  <phone_num type="text" maxlength="64" validate="Any" required="0" readonly="0" size="26" mode="edit" optgroup="0">
    <en>Phone Number: </en>
  </phone_num>
  <cus_name type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Customer Name: </en>
  </cus_name>
  <afri_cus_name type="text" maxlength="64" validate="Any" required="0" readonly="1" defaultvalue="KYC" size="26" mode="edit" optgroup="0">
    <en>Africell Customer Name: </en>
  </afri_cus_name>
  <depositor_type type="dropdown" required="1" readonly="0" optgroup="0" mode="edit">
    <en>Depositor Type:             
      <option name="">-----------select------------------</option>
      <option name="Subscriber">Subscriber</option>
      <option name="Agent">Agent</option></en>
  </depositor_type>
  <submit type="submit" required="0" readonly="0" optgroup="0">
    <en>Submit</en>
  </submit>
  <save type="submit" required="0" readonly="0" optgroup="0">
    <en>Save as Draft</en>
  </save>
  <b2w type="javascript" meta=""><![CDATA[hiddenById("DYN_FORWARD");
hiddenById("DYN_FORWARD][bullet");

function geturl(){
var url = window.location.href;
var arr = url.split("/");
var result = arr[0] + "//" + arr[2];
  return result;
}

function doFetch()
{
      var xmlhttp;

      function send_params()  //Initiates the ajax request
      {
        xmlhttp = get_xml_http();  //Gets a compatible XMLHttpRequest instance
        if (xmlhttp == null)
        {
          alert("Your borwser does not support the XMLHttpRequest object");
          return;
        }
        var prot = geturl();
        var url = prot + "/b2w_fetch_afri.php";
        console.log(url);
        var content = get_content();  
        console.log(content);
        //alert(content);
        xmlhttp.open("POST", url, true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //xmlhttp.setRequestHeader("Content-length", content.length);
        //xmlhttp.setRequestHeader("Connection", "close");
        xmlhttp.onreadystatechange = state_changed;  
        xmlhttp.send(content);
      }
      
      function get_content()  
      {
        var acct = getField("cus_acc").value;
        //var curr = 1;
        var phone = getField("phone_num").value;

        
        var string = "";
        if (acct =='' || phone == ''){
             return string;
            }
            else {
        
        string += "acc=";  
        string += acct;
        string += "&";
        string += "phones=";  
        string += phone;
               
        return string;
            }
      }

      function state_changed()  //Called when xmlhttp state changes e.g. when the server returns something
      {
        if (xmlhttp.readyState == 4 && xmlhttp.status==200)
        {
          
          var ret=xmlhttp.responseText;
        var parser, xmlDoc;
console.log(ret)

parser = new DOMParser();
xmlDoc = parser.parseFromString(ret,"text/xml");

getField("cus_name").value   = xmlDoc.getElementsByTagName("cusname")[0].childNodes[0].nodeValue;
          
          
getField("cus_id").value   = xmlDoc.getElementsByTagName("cusid")[0].childNodes[0].nodeValue;
          getField("id_num").value   = xmlDoc.getElementsByTagName("idnum")[0].childNodes[0].nodeValue;
 
          
       /*
       
       
       
          1: "ALHAJI AMADU MASIE BARRIE"
2: "ALHAJI"
3: "GTBISLFR20110019501100"   */
          //getField("buyrate").value = ret[1];
          //getField("sellrate").value = ret[2];
          getField("name").value = ret[1];
        }
      }

      function get_xml_http()  //Returns an instance that is compatible with the browser
      {
        if (window.XMLHttpRequest)
        {
          return new XMLHttpRequest();
        }
        if (window.ActiveXObject)
        {
          return new ActiveXObject("Microsoft.XMLHTTP");
        }
        return null;
      }
send_params();
}
getField("cus_acc").onchange = doFetch;
getField("phone_num").onchange = doFetch;




getField('submit').onclick = function(){
  if(getField('depositor_type').value == 0 || getField('alias_num').value == '' || getField('cus_name').value == ''){
    alert("You must fill every thing correctly");
    getField('approval_flag').value == 0
    approval_flag
    return false;
  }  
   getField('approval_flag').value == 1;
    return true;    
 }]]></b2w>
  <cus_id type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>Customer ID: </en>
  </cus_id>
  <id_num type="text" maxlength="64" validate="Any" required="1" readonly="1" size="26" mode="edit" optgroup="0">
    <en>ID Number: </en>
  </id_num>
  <gender type="dropdown" required="1" readonly="0" optgroup="0" mode="edit">
    <en>Gender:                   
      <option name="">--------------select---------------</option>
      <option name="1">Male</option>
      <option name="2">Female</option></en>
  </gender>
  <approver type="dropdown" required="1" readonly="0" optgroup="0" mode="edit">
<![CDATA[      SELECT A.USR_UID,UPPER(CONCAT(A.USR_FIRSTNAME,' ' ,A.USR_LASTNAME)) 
FROM USERS A, GROUP_USER B, CONTENT C WHERE B.GRP_UID = C.CON_ID AND C.CON_CATEGORY = 'GRP_TITLE' AND C.CON_VALUE IN ('UNIT HEAD','RELATIONSHIP MANAGER','OPERATIONS HEAD','MARKETING GROUP HEAD','OPERATIONS GROUP HEAD','DIVISIONAL HEAD','GENERAL MANAGER', 'EXPENSE_CONTROL','SYSCON') AND B.USR_UID=A.USR_UID AND A.USR_STATUS='ACTIVE' ORDER BY 2
    ]]>
<en>Head Of Operation: 
      <option name="">-----------select------------------</option></en></approver>
</dynaForm>
000000032917205810629a270f0dc395083816447000004694<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<form id="{$form_id}" class="formDefault" style="margin:0px;" action="{$form_action}" method="post" name="{$form_name}" enctype="multipart/form-data" onsubmit="return validateForm('{$form_objectRequiredFields}');">
<div class="borderForm" style="width:{$form_width}; padding-left:0; padding-right:0; border-width:{$form_border};">
<div class="boxTop">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
<div class="content" style="height:{$form_height};">
<table class="mceItemTable" style="width: 99%;">
<tbody>
<tr>
<td valign="top"><input id="__notValidateThisFields__" class="notValidateThisFields" type="hidden" name="__notValidateThisFields__" value="{$form_objectRequiredFields}" /> <input id="DynaformRequiredFields" type="hidden" name="DynaformRequiredFields" value="{$form_objectRequiredFields}" /> <input id="__DynaformName__" type="hidden" name="__DynaformName__" value="{$form_name}" />
<table class="mceItemTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="withoutLabel" style="height:auto;" colspan="2">{$form.__DYNAFORM_OPTIONS}</td>
</tr>
<tr>
<td class="FormTitle" colspan="2" align="">{$form.titile} AfriMoney</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">{$initiator}{$form.initiator}</td>
<td style="" align="right" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed;">{$date}{$form.date}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">{$form.sub_tit}</span></p>
</td>
<td style="" align="right" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$cus_acc}{$form.cus_acc}</span></p>
</td>
<td style="" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px; text-align: start;">{$phone_num}{$form.phone_num}</span>&nbsp;</td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;"><span>&nbsp;<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>{$cus_name}{$form.cus_name}</span></span></span></span></p>
</td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp;<span>{$cus_id}{$form.cus_id}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">
<p><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;"><span>{$afri_cus_name}{$form.afri_cus_name}</span></span></p>
</td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>{$id_num}{$form.id_num}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>{$depositor_type}{$form.depositor_type}</span></td>
<td style="" align="left" data-mce-style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>{$gender}{$form.gender}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;</td>
<td style="" align="left" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" colspan="2" align="center" data-mce-style=""><span>{$approver}{$form.approver}</span></td>
</tr>
<tr>
<td style="" align="left" data-mce-style="">&nbsp;</td>
<td style="" align="left" data-mce-style="">&nbsp;</td>
</tr>
<tr>
<td style="" colspan="2" align="left" data-mce-style=""><span style="color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, Tahoma, sans-serif, MiscFixed; font-size: 11px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{$form.submit}&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>{$form.save}</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<script type="text/javascript">// <![CDATA[
{$form.b2w}
// ]]></script>
</div>
<br /><br /><br />&nbsp;<br /><br /><br /><br /></form>
MAILTEMPL000000018alert_message.html000000682
<table style=\"background-color: white; font-family: Arial,Helvetica,sans-serif; color: black; font-size: 11px; text-align: left;\" cellpadding='10' cellspacing='0' width='100%'>
<tbody>	
		<tr><td style='font-size: 14px;'><b>ALERT MESSAGE</b></td></tr>
		<tr><td style='vertical-align:middel;'>
				<hr>
				<br />
						The Case <b>@#APP_NUMBER</b>, currently in the task <b>@#TAS_TITLE</b>, expired on <b>@#DEL_TASK_DUE_DATE</b>.						
				<br />		
				<br />
				<hr><b>This Business Process is powered by ProcessMaker.<b><br />
						<a href='http://www.processmaker.com' style='color:#c40000;'>www.processmaker.com</a>
				<br />
		</td></tr>
</tbody>
</table>